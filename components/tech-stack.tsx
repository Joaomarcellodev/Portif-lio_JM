"use client"

import { useEffect, useRef } from "react"

const techIcons = [
  {
    name: "HTML5",
    color: "#E65100",
    viewBox: "0 0 48 48",
    path: "M41,5H7l3,34l14,4l14-4L41,5L41,5z M24 8L24 39.9 35.2 36.7 37.7 8z M24,25v-4h8.6l-0.7,11.5L24,35.1v-4.2l4.1-1.4l0.3-4.5H24z M32.9,17l0.3-4H24v4H32.9z M24,30.9v4.2l-7.9-2.6L15.7,27h4l0.2,2.5L24,30.9z M19.1,17H24v-4h-9.1l0.7,12H24v-4h-4.6L19.1,17z",
  },
  {
    name: "CSS3",
    color: "#0277BD",
    viewBox: "0 0 48 48",
    path: "M41,5H7l3,34l14,4l14-4L41,5L41,5z M24 8L24 39.9 35.2 36.7 37.7 8z M33.1 13L24 13 24 17 28.9 17 28.6 21 24 21 24 25 28.4 25 28.1 29.5 24 30.9 24 35.1 31.9 32.5 32.6 21 32.6 21z M24,13v4h-8.9l-0.3-4H24z M19.4,21l0.2,4H24v-4H19.4z M19.8,27h-4l0.3,5.5l7.9,2.6v-4.2l-4.1-1.4L19.8,27z",
  },
  {
    name: "JavaScript",
    color: "#ffd600",
    viewBox: "0 0 48 48",
    path: "M6,42V6h36v36H6z M29.538 32.947c.692 1.124 1.444 2.201 3.037 2.201 1.338 0 2.04-.665 2.04-1.585 0-1.101-.726-1.492-2.198-2.133l-.807-.344c-2.329-.988-3.878-2.226-3.878-4.841 0-2.41 1.845-4.244 4.728-4.244 2.053 0 3.528.711 4.592 2.573l-2.514 1.607c-.553-.988-1.151-1.377-2.078-1.377-.946 0-1.545.597-1.545 1.377 0 .964.6 1.354 1.985 1.951l.807.344C36.452 29.645 38 30.839 38 33.523 38 36.415 35.716 38 32.65 38c-2.999 0-4.702-1.505-5.65-3.368L29.538 32.947zM17.952 33.029c.506.906 1.275 1.603 2.381 1.603 1.058 0 1.667-.418 1.667-2.043V22h3.333v11.101c0 3.367-1.953 4.899-4.805 4.899-2.577 0-4.437-1.746-5.195-3.368L17.952 33.029z",
  },
  {
    name: "TypeScript",
    color: "#2aa4f4",
    viewBox: "0 0 48 48",
    path: "M6,6h36v36H6V6z M27.49,22 14.227,22 14.227,25.264 18.984,25.264 18.984,40 22.753,40 22.753,25.264 27.49,25.264z M39.194,26.084c0,0-1.787-1.192-3.807-1.192s-2.747,0.96-2.747,1.986c0,2.648,7.381,2.383,7.381,7.712c0,8.209-11.254,4.568-11.254,4.568V35.22c0,0,2.152,1.622,4.733,1.622s2.483-1.688,2.483-1.92c0-2.449-7.315-2.449-7.315-7.878c0-7.381,10.658-4.469,10.658-4.469L39.194,26.084z",
  },
  {
    name: "Next.js",
    color: "white",
    viewBox: "0 0 48 48",
    path: "M18.974,31.5c0,0.828-0.671,1.5-1.5,1.5s-1.5-0.672-1.5-1.5v-14c0-0.653,0.423-1.231,1.045-1.43 c0.625-0.198,1.302,0.03,1.679,0.563l16.777,23.704C40.617,36.709,44,30.735,44,24c0-11-9-20-20-20S4,13,4,24s9,20,20,20 c3.192,0,6.206-0.777,8.89-2.122L18.974,22.216V31.5z M28.974,16.5c0-0.828,0.671-1.5,1.5-1.5s1.5,0.672,1.5,1.5v13.84l-3-4.227 V16.5z",
  },
  {
    name: "React",
    color: "#61DAFB",
    viewBox: "0 0 48 48",
    path: "M24,34C11.1,34,1,29.6,1,24c0-5.6,10.1-10,23-10c12.9,0,23,4.4,23,10C47,29.6,36.9,34,24,34z M24,16c-12.6,0-21,4.1-21,8 c0,3.9,8.4,8,21,8s21-4.1,21-8C45,20.1,36.6,16,24,16z M15.1,44.6c-1,0-1.8-0.2-2.6-0.7C7.6,41.1,8.9,30.2,15.3,19.1 c3.4-6,8.7-11.6,15.3-16.1c6.6-4.5,13-6.3,18.5-5.1c5.7,1.3,8.5,7.3,6.3,13.8c-0.7,2.1-2.4,4.4-4.9,6.5 c-0.6,0.5-1.6,0.5-2.2-0.1c-0.5-0.6-0.5-1.6,0.1-2.2c1.8-1.5,3.1-3.1,3.6-4.7c1.4-4.6-0.2-8.6-4.6-9.8 c-4.2-1.1-9.7,0.5-15.2,4.2c-5.7,3.8-10.6,8.8-13.6,14.1c-5.9,10.5-7.2,20.4-3.1,22.7c1.9,1.1,5.2,0.4,9.6-2.1 c0.6-0.3,1.3-0.1,1.6,0.5c0.3,0.6,0.1,1.3-0.5,1.6c-2.8,1.6-5.7,2.9-8.8,3.8C16.8,44.4,15.9,44.6,15.1,44.6z",
  },
  {
    name: "Node.js",
    color: "#8bc34a",
    viewBox: "0 0 48 48",
    path: "M43.982,23.635c0.069-4.261-0.891-9.328-2.891-15.273l-1.568-4.662l-2.13,4.433 c-0.114,0.237-0.244,0.469-0.38,0.698C33.514,5.827,28.974,4,24,4C12.954,4,4,12.954,4,24c0,11.046,8.954,20,20,20s20-8.954,20-20 C44,23.877,43.984,23.758,43.982,23.635z M39.385 32.558c-3.123 4.302-8.651 4.533-13.854 4.442H18.75h-1.938c4.428-1.593 7.063-1.972 9.754-3.4 5.068-2.665 10.078-8.496 11.121-14.562-1.93 5.836-7.779 10.85-13.109 12.889-3.652 1.393-10.248 2.745-10.248 2.745l-.267-.145C9.573 32.268 9.437 22.214 17.6 18.968c3.574-1.423 6.993-.641 10.854-1.593 4.122-1.012 8.89-4.208 10.83-8.375C41.456 15.667 44.07 26.106 39.385 32.558L39.385 32.558zM15.668 38.445C15.386 38.795 14.955 39 14.505 39c-.823 0-1.495-.677-1.495-1.5s.677-1.5 1.495-1.5c.341 0 .677.118.941.336C16.086 36.855 16.186 37.805 15.668 38.445L15.668 38.445z",
  },
  {
    name: "Tailwind CSS",
    color: "#00acc1",
    viewBox: "0 0 48 48",
    path: "M24,9.604c-6.4,0-10.4,3.199-12,9.597c2.4-3.199,5.2-4.398,8.4-3.599 c1.826,0.456,3.131,1.781,4.576,3.247C27.328,21.236,30.051,24,36,24c6.4,0,10.4-3.199,12-9.598c-2.4,3.199-5.2,4.399-8.4,3.6 c-1.825-0.456-3.13-1.781-4.575-3.247C32.672,12.367,29.948,9.604,24,9.604L24,9.604z M12,24c-6.4,0-10.4,3.199-12,9.598 c2.4-3.199,5.2-4.399,8.4-3.599c1.825,0.457,3.13,1.781,4.575,3.246c2.353,2.388,5.077,5.152,11.025,5.152 c6.4,0,10.4-3.199,12-9.598c-2.4,3.199-5.2,4.399-8.4,3.599c-1.826-0.456-3.131-1.781-4.576-3.246C20.672,26.764,17.949,24,12,24 L12,24z",
  },
  {
    name: "Git",
    color: "#F4511E",
    viewBox: "0 0 48 48",
    path: "M42.2,22.1L25.9,5.8C25.4,5.3,24.7,5,24,5c0,0,0,0,0,0c-0.7,0-1.4,0.3-1.9,0.8l-3.5,3.5l4.1,4.1c0.4-0.2,0.8-0.3,1.3-0.3c1.7,0,3,1.3,3,3c0,0.5-0.1,0.9-0.3,1.3l4,4c0.4-0.2,0.8-0.3,1.3-0.3c1.7,0,3,1.3,3,3s-1.3,3-3,3c-1.7,0-3-1.3-3-3c0-0.5,0.1-0.9,0.3-1.3l-4-4c-0.1,0-0.2,0.1-0.3,0.1v10.4c1.2,0.4,2,1.5,2,2.8c0,1.7-1.3,3-3,3s-3-1.3-3-3c0-1.3,0.8-2.4,2-2.8V18.8c-1.2-0.4-2-1.5-2-2.8c0-0.5,0.1-0.9,0.3-1.3l-4.1-4.1L5.8,22.1C5.3,22.6,5,23.3,5,24c0,0.7,0.3,1.4,0.8,1.9l16.3,16.3c0,0,0,0,0,0c0.5,0.5,1.2,0.8,1.9,0.8s1.4-0.3,1.9-0.8l16.3-16.3c0.5-0.5,0.8-1.2,0.8-1.9C43,23.3,42.7,22.6,42.2,22.1z",
  },
]

export default function TechStack() {
  const carouselRef = useRef<HTMLDivElement>(null)

  useEffect(() => {
    const carousel = carouselRef.current
    if (!carousel) return

    let animationId: number
    let scrollPosition = 0
    const scrollSpeed = 0.5

    const animate = () => {
      scrollPosition += scrollSpeed
      if (scrollPosition >= carousel.scrollWidth / 2) {
        scrollPosition = 0
      }
      carousel.style.transform = `translateX(-${scrollPosition}px)`
      animationId = requestAnimationFrame(animate)
    }

    animationId = requestAnimationFrame(animate)

    return () => {
      if (animationId) {
        cancelAnimationFrame(animationId)
      }
    }
  }, [])

  return (
    <section className="py-16 bg-card/50">
      <div className="container mx-auto px-6">
        <div className="text-center mb-12">
          <h2 className="text-2xl font-bold mb-4">Tecnologias</h2>
          <p className="text-muted-foreground">Ferramentas e tecnologias que utilizo no desenvolvimento</p>
        </div>

        <div className="relative overflow-hidden">
          <div ref={carouselRef} className="flex items-center space-x-8" style={{ width: "fit-content" }}>
            {/* Duplicate icons for seamless loop */}
            {[...techIcons, ...techIcons].map((tech, index) => (
              <div
                key={`${tech.name}-${index}`}
                className="flex-shrink-0 w-16 h-16 flex items-center justify-center bg-background rounded-lg border border-border hover:border-primary/50 transition-all duration-300 group"
              >
                <svg
                  width="32"
                  height="32"
                  viewBox={tech.viewBox}
                  className="group-hover:scale-110 transition-transform duration-300"
                >
                  <path fill={tech.color} d={tech.path} />
                </svg>
              </div>
            ))}
          </div>
        </div>
      </div>
    </section>
  )
}
